import time
import pytest
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.chrome.service import Service
from webdriver_manager.chrome import ChromeDriverManager

@pytest.fixture
def driver():
    options = webdriver.ChromeOptions()
    options.add_argument("--headless")  # không mở cửa sổ trình duyệt
    driver = webdriver.Chrome(service=Service(ChromeDriverManager().install()), options=options)
    yield driver
    driver.quit()

def test_chatbot_page_loads(driver):
    driver.get("http://localhost:5000/chatbot")
    
    # Kiểm tra tiêu đề hoặc 1 phần tử đặc trưng
    assert "Chatbot" in driver.page_source  # hoặc kiểm tra title nếu có

    # Giả sử bạn có ô nhập chat có id="chat-input"
    chat_input = driver.find_element(By.ID, "chat-input")
    assert chat_input.is_displayed()

    # Kiểm tra nút gửi nếu có
    send_button = driver.find_element(By.ID, "send-button")
    assert send_button.is_displayed()
